<script>
document.addEventListener('DOMContentLoaded', () => {
  const noPromoBar = () => {
    const desktopNavWrapper = document.getElementById('desktop-nav-wrapper')
    desktopNavWrapper.setAttribute('style', 'transform: translateY(-36px); transition: width 0.3s cubic-bezier(0.25, 0.1, 0.25, 0.1), opactiy 0.3s cubic-bezier(0.25, 0.1, 0.25, 0.1);')

    const contentForLayout = document.getElementById('content_for_layout')
    contentForLayout.setAttribute('style', 'transform: translateY(-36px);')

    const childDesktopMenus = Array.from(document.getElementsByClassName('desktop-child'))
    childDesktopMenus.forEach((child) => {
      child.setAttribute('style', 'top: 120px;')
    })

    const mobileNavWrapper = document.getElementById('mobile-nav-wrapper')
    mobileNavWrapper.setAttribute('style', 'transform: translateY(-36px); transition: width 0.3s cubic-bezier(0.25, 0.1, 0.25, 0.1), opactiy 0.3s cubic-bezier(0.25, 0.1, 0.25, 0.1);')

    const mobileMenu = document.getElementById('mobile-menu')
    mobileMenu.setAttribute('style', 'top: 0px; height: 100%;')
  }


  if (!{{ settings.promo_bar }} ) {
    noPromoBar()
  } else if (sessionStorage.getItem('promoClosed') == true) {
    const promoBar = document.getElementById('promo-bar')
    promoBar.style.display = 'none'
    noPromoBar()
  }

  const noPromoBarClick = () => {
    const promoBar = document.getElementById('promo-bar')
    promoBar.style.transform = 'translateY(-36px)'

    const desktopNavWrapper = document.getElementById('desktop-nav-wrapper')
    desktopNavWrapper.style.transform = 'translateY(-36px)'

    const contentForLayout = document.getElementById('content_for_layout')
    contentForLayout.style.transform = 'translateY(-36px)'

    const childDesktopMenus = Array.from(document.getElementsByClassName('desktop-child'))
    childDesktopMenus.forEach((child) => {
      child.setAttribute('style', 'transform: translateY(-36px);')
    })

    const mobileNavWrapper = document.getElementById('mobile-nav-wrapper')
    mobileNavWrapper.style.transform = 'translateY(-36px)'

    const mobileMenu = document.getElementById('mobile-menu')
    mobileMenu.setAttribute('style', 'top: 0px; height: 100%;')

    sessionStorage.setItem('promoClosed', true)
  }

  const promoX = document.getElementById('promo-bar-x')
  promoX.addEventListener('click', () => {
    noPromoBarClick()
  })
})

</script>
